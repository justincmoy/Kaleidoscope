VERSION 1

KEYSWITCH MC0  0 0
KEYSWITCH MC1  0 1
KEYSWITCH MC2  0 2

# ==============================================================================
NAME SimpleChords key B

PRESS MC0
PRESS MC1
PRESS MC2
RUN 1 cycle

EXPECT keyboard-report Key_B # The report should contain only `B`

RELEASE MC2
RELEASE MC1
RELEASE MC0
RUN 1 cycle

EXPECT keyboard-report empty # Report should be empty

# ==============================================================================
NAME SimpleChords key A timeout

PRESS MC0
PRESS MC1
RUN 25 ms
EXPECT keyboard-report Key_A # The report should contain only `A`

RELEASE MC1
RELEASE MC0
RUN 1 cycle
EXPECT keyboard-report empty # Report should be empty

# After the timeout, we should send `A` and restart the queue.
PRESS MC2
RUN 1 cycle

RELEASE MC2
RUN 1 cycle

EXPECT keyboard-report Key_2 # The report should contain only `2`
EXPECT keyboard-report empty # Report should be empty
